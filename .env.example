# ===========================================
# Entrance Detection System - Environment Variables
# Copy this file to .env and fill in your values
# ===========================================

# ------------------------
# VIDEO SOURCE (REQUIRED)
# ------------------------
# RTSP/RTMP stream URL or local file path
VIDEO_SOURCE=rtsp://username:password@192.168.1.100:554/Streaming/Channels/101

# ------------------------
# MQTT CONFIGURATION (REQUIRED)
# ------------------------
MQTT_BROKER=your-mqtt-broker.com
MQTT_PORT=1883
MQTT_USERNAME=your_username
MQTT_PASSWORD=your_password
MQTT_TOPIC=entrance/device-1/data
MQTT_CLIENT_ID=entrance_detection_client

# ------------------------
# MODEL CONFIGURATION
# ------------------------
# Available: yolov8n.pt (fastest), yolov8s.pt (balanced), yolov8m.pt, yolov8l.pt (most accurate)
MODEL_WEIGHTS=yolov8s.pt
TRACKER_YAML=botsort.yaml
CONF_THRESHOLD=0.35
IOU_THRESHOLD=0.5

# ------------------------
# DETECTION LINE
# ------------------------
# Position of vertical counting line (0.0 = left edge, 1.0 = right edge)
LINE_POSITION=0.5

# ------------------------
# RESIZE CONFIGURATION
# ------------------------
# Frame resize for better performance (set to 0 to disable)
RESIZE_WIDTH=960
RESIZE_HEIGHT=540

# ------------------------
# TRACKING CONFIGURATION
# ------------------------
# Smoothing factor for position tracking (0.0-1.0)
SMOOTH_ALPHA=0.3
# Maximum positions to store per track
HISTORY_MAX=80
# Minimum history length before counting
MIN_HISTORY_TO_COUNT=3
# Debounce time between counts for same ID (seconds)
DEBOUNCE_SEC=0.6
# Time before same ID can be recounted (seconds)
RECOUNT_TIMEOUT_SEC=10.0
# Minimum pixel movement to trigger count
MIN_MOVEMENT_PIXELS=15

# ------------------------
# LOGGING
# ------------------------
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
