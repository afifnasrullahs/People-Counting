# ===========================================
# Entrance Detection System - Environment Variables
# Copy this file to .env and fill in your values
# ===========================================

# ------------------------
# VIDEO SOURCE (REQUIRED)
# ------------------------
# RTSP/RTMP stream URL or local file path
VIDEO_SOURCE=rtsp://username:password@192.168.1.100:554/Streaming/Channels/101

# ------------------------
# MQTT CONFIGURATION (REQUIRED)
# ------------------------
MQTT_BROKER=your-mqtt-broker.com
MQTT_PORT=1883
MQTT_USERNAME=your_username
MQTT_PASSWORD=your_password
MQTT_TOPIC=entrance/device-1/data
MQTT_CLIENT_ID=entrance_detection_client

# ------------------------
# MODEL CONFIGURATION
# ------------------------
# Detector type: "hog" (fastest ~10-15 FPS on Pi) or "mobilenet" (more accurate ~3-5 FPS on Pi)
DETECTOR_TYPE=hog
CONF_THRESHOLD=0.3

# MobileNet-SSD settings (only used if DETECTOR_TYPE=mobilenet)
# Download model using: python download_model.py
MODEL_CONFIG=MobileNetSSD_deploy.prototxt
MODEL_WEIGHTS=MobileNetSSD_deploy.caffemodel

# ------------------------
# DETECTION LINE
# ------------------------
# Position of vertical counting line (0.0 = left edge, 1.0 = right edge)
LINE_POSITION=0.5

# ------------------------
# RESIZE CONFIGURATION
# ------------------------
# Frame resize for better performance (lower = faster, recommended for Raspberry Pi)
# HOG: 320x240 recommended | MobileNet: 640x480 recommended
RESIZE_WIDTH=320
RESIZE_HEIGHT=240

# ------------------------
# RASPBERRY PI / HEADLESS MODE
# ------------------------
# Set to true for running without display (server mode)
HEADLESS=true
# Process every Nth frame (1 = no skip, higher = faster but less accurate)
# HOG: 1 recommended | MobileNet: 2-3 recommended
FRAME_SKIP=1

# ------------------------
# TRACKING CONFIGURATION
# ------------------------
# Smoothing factor for position tracking (0.0-1.0)
SMOOTH_ALPHA=0.3
# Maximum positions to store per track
HISTORY_MAX=80
# Minimum history length before counting
MIN_HISTORY_TO_COUNT=3
# Debounce time between counts for same ID (seconds)
DEBOUNCE_SEC=0.6
# Time before same ID can be recounted (seconds)
RECOUNT_TIMEOUT_SEC=10.0
# Minimum pixel movement to trigger count
MIN_MOVEMENT_PIXELS=15

# ------------------------
# LOGGING
# ------------------------
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
